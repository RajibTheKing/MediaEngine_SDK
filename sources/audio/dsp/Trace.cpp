#include "Trace.h"
#include <string.h>
#include <cmath>
#include "LogPrinter.h"
#include "AudioMacros.h"
#include "Tools.h"
#include "AudioDumper.h"

#define INF_DELAY 10000

namespace MediaSDK
{
	short g_sTraceArray[] =
	{
		-8984, -5511, -1524, 2620, 6505, 9783, 12132, 13324, 13243, 11909, 9450, 6102, 2176, -1946, -5898,
		-9277, -11791, -13168, -13319, -12181, -9911, -6677, -2829, 1288, 5288, 8771, 11428, 13001, 13338, 12415,
		10312, 7232, 3463, -621, -4654, -8248, -11053, -12818, -13363, -12641, -10724, -7790, -4117, -61, 4002,
		7688, 10635, 12580, 13337, 12826, 11105, 8327, 4756, 740, -3354, -7117, -10210, -12335, -13276, -12973,
		-11425, -8804, -5344, -1380, 2716, 6553, 9772, 12063, 13219, 13117, 11766, 9308, 5967, 2057, -2042,
		-5958, -9292, -11762, -13098, -13212, -12055, -9758, -6540, -2697, 1395, 5350, 8802, 11411, 12938, 13235,
		12294, 10174, 7104, 3353, -709, -4703, -8263, -11028, -12759, -13279, -12530, -10608, -7667, -4020, 19,
		4050, 7714, 10632, 12554, 13280, 12734, 10984, 8184, 4627, 617, -3436, -7162, -10214, -12297, -13219,
		-12887, -11334, -8698, -5229, -1272, 2815, 6606, 9793, 12026, 13135, 12981, 11612, 9145, 5813, 1927,
		-2142, -6009, -9313, -11723, -13035, -13102, -11918, -9626, -6403, -2589, 1472, 5394, 8796, 11378, 12861,
		13141, 12165, 10038, 6960, 3218, -821, -4791, -8300, -11015, -12685, -13156, -12380, -10423, -7486, -3836,
		177, 4171, 7773, 10633, 12485, 13152, 12558, 10790, 7987, 4444, 481, -3537, -7207, -10215, -12240,
		-13118, -12737, -11160, -8513, -5063, -1134, 2903, 6648, 9762, 11956, 13013, 12844, 11452, 8976, 5654,
		1785, -2242, -6067, -9316, -11672, -12929, -12952, -11747, -9440, -6236, -2440, 1584, 5453, 8811, 11319,
		12763, 12995, 11987, 9859, 6786, 3077, -925, -4834, -8290, -10965, -12602, -13033, -12232, -10276, -7328,
		-3713, 270, 4205, 7759, 10568, 12378, 13021, 12424, 10658, 7875, 4340, 396, -3588, -7226, -10173,
		-12163, -12984, -12580, -10985, -8347, -4916, -1020, 2977, 6680, 9768, 11915, 12931, 12719, 11302, 8814,
		5496, 1668, -2325, -6095, -9296, -11611, -12835, -12835, -11616, -9302, -6092, -2317, 1679, 5517, 8819,
		11297, 12701, 12890, 6106, 6624, 6372, 6224, 4034, 2871, 967, -1678, -2248, -5365, -5485, -5861,
		-7167, -5391, -3947, -3745, -1617, 2033, 2483, 2889, 7732, 14345, 17567, 22600, 21826, 14309, 10782,
		2848, -8062, -14468, -18160, -23001, -22376, -15853, -11358, -4460, 6142, 12699, 16139, 20244, 19890, 15399,
		10101, 3563, -3535, -8880, -14067, -15352, -12697, -11749, -7382, 808, 4324, 6280, 11528, 11030, 6304,
		5314, 1832, -5766, -7022, -7186, -10201, -6590, -794, 775, 5500, 12396, 11496, 11049, 11318, 5073,
		-1216, -5951, -11782, -16164, -17599, -16021, -12031, -6868, 939, 9205, 14939, 18771, 22171, 20750, 14075,
		9311, 2245, -9019, -15271, -18030, -22511, -22487, -15200, -9639, -4525, 6266, 14177, 16048, 19347, 20931,
		15017, 8188, 4993, -3146, -12125, -11960, -13354, -16716, -10091, -3350, -2983, 3963, 10988, 8810, 8293,
		10542, 3826, -2097, -2385, -7036, -10506, -7587, -5323, -3247, 2910, 7362, 10655, 12900, 12270, 9964,
		5494, -1820, -7066, -11712, -17721, -18305, -14666, -13302, -7201, 4022, 8907, 13938, 22446, 22027, 17324,
		17048, 9324, -2499, -7442, -13766, -22397, -22004, -19040, -17415, -9774, -423, 6193, 12690, 18505, 19921,
		18113, 14946, 8705, 1912, -4644, -10695, -13362, -14449, -14215, -9524, -3978, -692, 5508, 10132, 9540,
		9499, 8855, 2849, -1534, -3729, -8442, -9907, -7673, -6108, -2380, 3766, 7262, 10867, 13807, 11985,
		9186, 6057, -1776, -8209, -11365, -16905, -19088, -14680, -11388, -7416, 3218, 10853, 13679, 20477, 23081,
		17546, 14319, 9814, -1626, -9382, -13408, -20346, -22435, -18593, -15217, -9826, -389, 6942, 12404, 17825,
		19211, 17205, 14090, 8385, 662, -4074, -9466, -14371, -12871, -11707, -10321, -3254, 2325, 3740, 8696,
		11605, 7558, 5707, 4580, -2357, -7039, -6564, -8783, -9528, -3905, 346, 2714, 9123, 13025, 12088,
		12268, 9762, 2885, -2338, -8175, -14569, -16782, -17335, -16682, -10767, -3626, 1868, 10982, 18107, 19144,
		21384, 20854, 12295, 6080, 516, -10885, -17521, -18239, -22030, -21426, -12735, -7283, -2213, 8757, 14839,
		15802, 19286, 18508, 11978, 7007, 1889, -6256, -10695, -12603, -14327, -12076, -8057, -3909, 1716, 5797,
		8351, 10236, 8527, 5424, 2742, -1809, -6961, -7380, -7965, -9099, -4410, 841, 3149, 7769, 13246,
		12492, 10456, 9596, 3918, -3726, -8447, -12790, -17633, -17987, -14509, -11044, -4557, 3875, 10725, 16184,
		20193, 21287, 18228, 13393, 7141, -2012, -10029, -15360, -20116, -21953, -18899, -14085, -8512, 228, 8225,
		13233, 17678, 19335, 16652, 12726, 7320, 163, -5844, -9931, -13348, -14133, -11257, -7976, -3972, 1924,
		6479, 8186, 9648, 9349, 5701, 1713, -1915, -5998, -8742, -9046, -7659, -4629, 21, 4457, 8821,
		12180, 12964, 11405, 8593, 3804, -3631, -8669, -12885, -17542, -17650, -13957, -10803, -4641, 4617, 10712,
		15656, 20664, 21150, 17015, 13268, 6680, -3138, -9663, -14916, -20358, -20744, -17386, -13666, -7245, 1157,
		7761, 13138, 17144, 17579, 16154, 12098, 5754, 198, -5044, -10871, -12694, -11504, -11604, -7736, -1248,
		1633, 4848, 9606, 8994, 6421, 5817, 2005, -3842, -5681, -6558, -9497, -6981, -2286, -386, 4329,
		9897, 11409, 11381, 11503, 7886, 1529, -3011, -8514, -14184, -15980, -16255, -14237, -9377, -2879, 4100,
		10869, 16526, 18975, 19990, 17603, 11470, 5574, -1947, -10585, -15937, -18401, -20545, -18409, -11715, -6499,
		-165, 9094, 14002, 15630, 18467, 16526, 10304, 5953, 587, -6879, -10792, -11706, -13223, -11146, -6064,
		-2318, 2296, 6931, 8723, 9172, 8062, 4484, 741, -2984, -7152, -8898, -8200, -7603, -3859, 1996,
		5482, 9384, 13672, 13102, 10556, 8285, 2485, -5347, -9919, -14183, -18687, -17187, -13947, -9579, -2596,
		5856, 12590, 16922, 20999, 20967, 16594, 11472, 4780, -4399, -11560, -16514, -19755, -20683, -17308, -11159,
		-5829, 2182, 10303, 14194, 16609, 18291, 15042, 9092, 4894, -1152, -8279, -10947, -11600, -12708, -9863,
		-4208, -760, 2879, 8056, 9269, 7894, 7456, 4143, -1162, -4361, -7111, -9428, -9252, -6087, -2637,
		1231, 7259, 10969, 12617, 13518, 11421, 6782, 1306, -4928, -10643, -15317, -17422, -16706, -14040, -8717,
		-1615, 5721, 12315, 17478, 20404, 19966, 16309, 11395, 3896, -4451, -10966, -16535, -20200, -19540, -16510,
		-12048, -4520, 3055, 8897, 14477, 17727, 16906, 14629, 10679, 3984, -1935, -6587, -11506, -13035, -11515,
		-10357, -6101, 88, 3170, 6556, 10341, 9199, 6352, 5092, 553, -5391, -6607, -8244, -10183, -6505,
		-2284, 478, 6228, 11200, 11984, 12948, 12015, 6765, 1349, -3944, -10504, -15138, -16965, -17000, -13963,
		-8506, -1993, 5827, 12925, 16863, 20576, 20711, 15685, 10858, 4532, -5158, -12215, -15827, -20070, -20434,
		-15679, -11000, -4936, 3673, 10088, 14203, 17464, 17337, 13865, 9636, 3913, -2747, -7530, -11046, -12887,
		-11833, -8697, -4998, -134, 4867, 7225, 9112, 9434, 6459, 2846, -359, -4792, -8762, -8861, -8164,
		-7416, -2413, 3550, 6425, 10336, 14343, 13113, 9650, 7383, 1290, -6578, -10673, -14464, -17875, -16611,
		-12345, -7914, -1304, 6770, 12998, 16989, 19621, 19427, 15299, 9295, 2865, -4668, -12312, -16710, -18132,
		-18997, -15886, -8737, -3326, 3044, 10627, 14596, 15589, 15942, 13614, 8024, 2685, -2272, -7535, -10893,
		-11756, -10974, -8294, -4514, 169, 4267, 6958, 8748, 8602, 5939, 2965, -375, -5075, -7525, -7625,
		-8225, -6139, -650, 2462, 5955, 11399, 12504, 10650, 10203, 6386, -1297, -5632, -9621, -15864, -16888,
		-14254, -12766, -7650, 964, 6885, 12202, 18321, 19814, 17832, 15421, 9516, 1304, -5227, -11827, -17235,
		-18772, -18075, -15456, -9448, -2555, 3507, 10209, 14614, 15975, 15817, 13303, 7790, 2791, -2557, -8139,
		-10465, -11382, -10864, -7710, -2895, 391, 4449, 8365, 8140, 7235, 6200, 1945, -2875, -4985, -7408,
		-9532, -7647, -4215, -1519, 3361, 8729, 11088, 12389, 12784, 9800, 4680, -357, -6269, -12121, -15405,
		-16749, -15892, -11728, -6288, 490, 8035, 13794, 17696, 19906, 18688, 13930, 8510, 1509, -6791, -12615,
		-16702, -19144, -18289, -14016, -8714, -2431, 5256, 10921, 14593, 16654, 15875, 12467, 7569, 2082, -3637,
		-8479, -11305, -11717, -10650, -7600, -2789, 1434, 5078, 8340, 9227, 7761, 5699, 2345, -2462, -5866,
		-7743, -9361, -8226, -4658, -1334, 3560, 8423, 11264, 13134, 12705, 9561, 5078, -488, -6969, -12150,
		-15199, -17053, -15672, -11249, -5981, 808, 8239, 14113, 17590, 19335, 18193, 13498, 7652, 891, -6718,
		-12956, -16792, -18430, -17317, -13626, -7687, -1026, 5047, 10949, 14819, 15424, 14529, 11877, 6224, 774,
		-3683, -8361, -11216, -10854, -9188, -6899, -2183, 2654, 5216, 7757, 9225, 7197, 4160, 1436, -2892,
		-6984, -8266, -8612, -7920, -4611, 137, 4507, 8411, 12165, 13457, 12010, 9243, 4699, -1454, -7606,
		-12335, -15874, -17199, -15435, -11323, -5339, 1590, 8548, 14719, 18293, 19236, 18208, 13722, 7008, 175,
		-7052, -13575, -17452, -18524, -17434, -13581, -7429, -801, 5967, 11441, 14914, 16305, 14664, 10904, 6275,
		676, -5068, -8943, -10865, -11403, -9773, -5819, -1574, 2186, 6269, 8570, 8467, 7587, 4806, 336,
		-3282, -6427, -9333, -9280, -7239, -4731, -324, 5191, 9066, 11835, 13600, 12594, 8796, 4143, -1496,
		-7942, -12744, -16027, -16891, -15018, -10951, -4857, 2099, 8932, 14534, 18123, 19107, 17551, 12808, 6588,
		-73, -7691, -13550, -16838, -18353, -17072, -12684, -6945, -496, 6237, 11592, 14660, 15886, 14413, 10481,
		5826, 242, -5120, -9010, -11007, -11021, -9352, -5854, -1396, 2569, 6069, 8369, 8785, 7285, 4182,
		727, -3348, -7084, -8718, -8840, -7784, -4310, 557, 4707, 9131, 12665, 13083, 11767, 9048, 3701,
		-2716, -7894, -12763, -16492, -16794, -14254, -10524, -4647, 3190, 9498, 14231, 18385, 19341, 16175, 12263,
		6596, -1639, -8335, -13006, -17278, -18455, -15592, -11991, -6776, 613, 6739, 10884, 14649, 15358, 12964,
		9875, 5123, -671, -5136, -8316, -10882, -10145, -7871, -5333, -709, 3460, 5914, 7661, 8425, 5979,
		2738, 172, -4325, -7855, -8255, -8508, -7396, -2949, 1595, 5311, 9889, 13041, 12842, 11479, 8508,
		2774, -3266, -8527, -13494, -16385, -16583, -14424, -9761, -3760, 3110, 10138, 15204, 18048, 19121, 16686,
		11488, 5475, -1459, -8892, -14217, -16911, -17961, -16251, -11129, -5243, 565, 7327, 12358, 14311, 14821,
		13489, 9117, 3748, -772, -5672, -9684, -10511, -9850, -8262, -4334, 263, 3677, 6736, 8618, 7979,
		5958, 2821, -1215, -4870, -7872, -9039, -8639, -6399, -2834, 1921, 6755, 9850, 13006, 13156, 10865,
		7700, 2281, -3967, -9050, -13686, -16415, -15858, -13894, -9078, -2504, 4004, 10189, 15729, 18035, 17564,
		16169, 10812, 3815, -1864, -8724, -14623, -16365, -16645, -15576, -10274, -4015, 885, 7481, 12648, 13648,
		14400, 13047, 7845, 3440, -1149, -6630, -9190, -10078, -10215, -7295, -3231, -29, 4386, 7692, 7735,
		8043, 6544, 1814, -1295, -4396, -8407, -9382, -7974, -6615, -3066, 2736, 6484, 9839, 13220, 12997,
		10559, 7361, 2026, -4284, -9525, -13680, -16115, -15987, -13221, -8110, -2142, 4366, 11180, 15655, 17411,
		18103, 15384, 9288, 3755, -2622, -10307, -14256, -15852, -17381, -14293, -8924, -4260, 2024, 8504, 11877,
		13665, 14472, 11540, 7291, 3203, -2194, -6579, -8860, -10367, -9262, -6522, -3370, 845, 4725, 6641,
		8102, 7920, 4840, 2084, -1358, -5861, -8031, -8616, -8948, -6009, -1755, 1849, 6871, 11080, 12247,
		12836, 11437, 6422, 1664, -3509, -10178, -13980, -15387, -16546, -13424, -7798, -2639, 4267, 11544, 15317,
		17709, 18651, 14931, 9728, 4181, -3324, -10070, -13948, -16928, -17214, -14013, -9693, -3944, 2740, 8047,
		12188, 14694, 13922, 11778, 8061, 2147, -2413, -6236, -10072, -10459, -8718, -7143, -3179, 1848, 4552,
		6882, 8916, 7498, 4670, 2254, -1904, -5963, -7876, -8875, -8596, -5838, -1837, 2598, 7090, 10595,
		12859, 12817, 10249, 6628, 1615, -4941, -9921, -13267, -16201, -15658, -11993, -8127, -2093, 5415, 10768,
		14978, 17959, 17506, 14306, 9739, 3400, -3522, -9363, -14108, -16434, -16072, -13929, -9223, -3246, 2181,
		7830, 12137, 13537, 13371, 11575, 7310, 2325, -1996, -6230, -9171, -9780, -8758, -6390, -2713, 1162,
		4754, 6933, 7602, 7298, 4750, 1047, -2082, -5338, -8522, -8746, -7293, -5895, -1665, 3790, 6966,
		10347, 13418, 12330, 9605, 6617, 762, -5606, -9877, -13939, -16339, -14920, -11950, -7554, -695, 5772,
		11032, 15834, 17679, 16561, 14046, 8826, 2174, -3975, -9845, -14373, -16012, -15717, -13144, -8126, -2699,
		2997, 8548, 11977, 13155, 13087, 10495, 6034, 1768, -2702, -6830, -8906, -9193, -8283, -5405, -1802,
		1743, 5130, 7019, 7477, 6694, 4057, 483, -2754, -6165, -8495, -8622, -7570, -4939, -558, 3776,
		7701, 11479, 12608, 11653, 9960, 5373, -599, -5211, -10261, -14692, -15387, -14266, -12024, -6680, 72,
		5716, 11374, 15918, 17364, 16402, 13371, 8205, 1845, -4766, -10260, -14064, -16098, -15385, -12124, -7658,
		-2178, 3827, 8540, 11619, 13329, 12462, 9682, 6007, 1312, -3460, -6724, -8829, -9630, -7752, -4924,
		-1769, 2463, 5644, 7198, 7852, 6560, 3592, 350, -3391, -6775, -8364, -8860, -7910, -4386, -273,
		3566, 8391, 11820, 12405, 12102, 10068, 4971, -561, -5550, -11017, -14764, -15705, -14688, -11506, -6202,
		133, 6683, 12034, 15665, 17683, 16431, 12441, 7678, 1588, -5626, -10661, -13875, -16147, -15227, -11366,
		-7166, -1741, 4646, 8940, 11853, 13376, 12159, 9118, 5277, 406, -3935, -7157, -8934, -9064, -7189,
		-4223, -727, 3075, 5807, 7497, 7581, 5874, 3350, -146, -4248, -6653, -8565, -9111, -7114, -3768,
		-160, 4476, 9210, 11388, 12659, 12301, 8912, 4507, -611, -6437, -11232, -14275, -15481, -14539, -10563,
		-5609, 161, 7268, 11920, 15488, 17290, 15848, 12179, 7133, 1367, -5449, -10454, -13874, -15457, -14639,
		-11553, -6576, -1378, 3836, 8961, 11876, 12341, 12037, 9339, 4672, 603, -3204, -7282, -8672, -8242,
		-7399, -4486, -308, 2549, 5159, 7638, 7003, 5495, 3479, -349, -4015, -6472, -8044, -8707, -6736,
		-3419, -162, 4807, 8679, 10888, 12462, 11305, 8422, 4140, -1105, -6452, -10925, -13890, -15035, -13390,
		-10146, -5150, 1029, 7015, 11871, 15380, 16513, 15058, 11671, 6320, 347, -5663, -10617, -13854, -15068,
		-13669, -10651, -5936, -468, 4717, 8715, 11502, 12576, 10804, 8132, 4569, -185, -4426, -6672, -8592,
		-8695, -6288, -3651, -341, 3269, 6225, 6940, 6984, 5912, 2237, -1184, -3791, -7283, -8993, -7988,
		-6451, -3847, 1121, 5430, 8553, 11853, 12306, 10995, 8340, 3294, -1963, -6849, -11848, -14638, -14563,
		-13574, -9992, -3723, 1731, 7255, 13183, 15609, 15865, 15189, 11016, 4989, -171, -6026, -11747, -13889,
		-14619, -13997, -10017, -5074, -184, 5182, 9381, 11590, 12115, 10799, 7561, 3558, -701, -4863, -7145,
		-8449, -8301, -5756, -2756, 139, 3905, 6618, 6757, 6718, 5415, 1534, -2004, -4478, -7654, -9234,
		-8057, -6059, -3188, 1400, 6374, 9395, 11702, 13015, 11137, 7319, 3353, -2096, -8186, -11853, -14174,
		-15439, -13293, -8864, -4331, 1778, 8285, 12439, 15252, 16677, 14478, 10637, 5682, -554, -6357, -10992,
		-13944, -14694, -13336, -9929, -4865, 203, 5078, 9350, 11722, 11315, 10438, 7915, 2648, -957, -3743,
		-7791, -8748, -6899, -6064, -3550, 1330, 4006, 5384, 7687, 7094, 4360, 1990, -1364, -5180, -7567,
		-8598, -8269, -6193, -2903, 1443, 5953, 9246, 11662, 12726, 10860, 7322, 3419, -2342, -7955, -11554,
		-14309, -15158, -12843, -8899, -4117, 2531, 8195, 12404, 15854, 16152, 13975, 10617, 5172, -1308, -6428,
		-10895, -14352, -14402, -12550, -9776, -4522, 1135, 5310, 9353, 12010, 11377, 9838, 7281, 2460, -1775,
		-4542, -7611, -8755, -6941, -5348, -2666, 1697, 4569, 6096, 7620, 6932, 4211, 1461, -1943, -5648,
		-7990, -8798, -8260, -6118, -2400, 2011, 6087, 9797, 12112, 12243, 10737, 7340, 2490, -2803, -7789,
		-12103, -14345, -14287, -12657, -8528, -2792, 2711, 8222, 13159, 15270, 15240, 13906, 9612, 3842, -1236,
		-6772, -11630, -13445, -13667, -12660, -8582, -3663, 795, 6029, 9712, 11134, 11542, 9777, 6139, 2544,
		-1631, -5509, -7351, -8031, -7717, -4937, -1631, 979, 4496, 6778, 6791, 6288, 4609, 952, -2389,
		-5125, -7807, -8673, -7802, -5664, -2148, 2069, 6244, 9895, 11866, 11898, 10603, 6942, 1802, -3037,
		-8077, -12500, -14264, -14041, -12375, -8134, -2303, 3144, 8514, 13316, 15315, 15318, 13486, 9324, 3808,
		-1892, -7296, -11566, -13876, -14059, -12039, -8393, -3602, 1718, 6270, 9601, 11580, 11342, 9259, 6164,
		2120, -2229, -5313, -7419, -8373, -7056, -4645, -1955, 1702, 4885, 6365, 7032, 6461, 3794, 543,
		-2392, -5874, -8233, -8421, -7703, -5438, -1355, 2821, 6739, 10351, 12046, 11825, 10033, 6241, 1343,
		-3837, -8851, -12565, -14382, -14226, -11897, -7441, -1979, 3678, 9331, 13405, 15317, 15374, 12972, 8707,
		3289, -2498, -7642, -11519, -13884, -13553, -11373, -8174, -3107, 2131, 5984, 9231, 11400, 10556, 8450,
		5903, 1677, -2597, -5085, -7056, -8026, -6369, -3942, -1423, 2173, 4974, 6186, 6770, 5697, 3166,
		240, -3175, -6148, -7801, -8533, -7586, -4589, -1210, 2677, 7200, 10319, 11381, 11744, 9934, 5435,
		1103, -3719, -9145, -12421, -13681, -13898, -11283, -6718, -1747, 3930, 9379, 12995, 14724, 14926, 12243,
		7904, 2907, -2665, -7857, -11572, -13180, -13085, -11135, -7125, -2325, 2208, 6463, 9702, 10856, 10141,
		8371, 5100, 1043, -2579, -5505, -7103, -7443, -6298, -3596, -521, 2144, 5005, 6889, 6396, 5247,
		3478, -318, -3868, -5862, -8063, -8847, -6841, -4229, -1110, 3712, 7771, 10144, 12019, 11807, 9068,
		5443, 721, -4762, -9149, -12479, -14191, -13297, -10670, -6640, -816, 4803, 9291, 13390, 15110, 14005,
		11761, 7714, 1782, -3497, -7824, -11789, -13378, -12194, -10117, -6668, -1322, 3152, 6678, 9778, 10732,
		9789, 7553, 4322, 358, -3275, -5853, -7522, -7427, -5724, -3377, -178, 3186, 5616, 6849, 6773,
		5533, 2786, -760, -3830, -6468, -8469, -8608, -6785, -4243, -594, 4076, 7769, 10318, 12043, 11447,
		8683, 5145, 388, -5267, -9513, -12364, -14312, -13464, -10133, -6045, -812, 5204, 10212, 13112, 14896,
		14488, 11212, 6882, 1814, -3762, -8580, -11651, -13045, -12528, -10011, -6050, -1372, 3019, 7130, 9733,
		10378, 9671, 7358, 3863, -5, -3307, -5955, -7503, -6991, -5278, -3026, 392, 3672, 5507, 6698,
		6864, 4816, 1900, -883, -4364, -7368, -8401, -8203, -7077, -3817, 437, 4250, 8101, 11091, 11921,
		11121, 8737, 4447, -455, -5297, -9941, -12828, -13665, -13080, -10018, -5176, -172, 5173, 10336, 13210,
		14253, 13961, 10815, 6142, 1528, -3928, -8791, -11267, -12539, -12245, -9239, -5300, -1268, 3456, 7243,
		9286, 10035, 9281, 6727, 3457, -34, -3486, -5677, -6933, -6783, -4812, -2386, 238, 3552, 5802,
		6191, 6288, 4945, 1677, -1358, -4075, -6946, -8296, -7785, -6273, -3384, 640, 4655, 8198, 10845,
		11690, 10721, 8250, 4096, -905, -5583, -9719, -12820, -13440, -12144, -9432, -4886, 700, 5748, 10027,
		13430, 14373, 13005, 10505, 6197, 610, -4192, -8304, -11590, -12539, -11323, -9008, -5256, -438, 3714,
		6967, 9374, 9885, 8609, 6305, 3084, -460, -3574, -5729, -6652, -6158, -4573, -1979, 1106, 3622,
		5587, 6684, 5918, 4054, 1570, -1799, -5019, -7235, -8341, -8118, -6173, -2931, 932, 5053, 8556,
		10967, 11741, 10680, 7902, 3724, -918, -5916, -10221, -12534, -13425, -12501, -9244, -4515, 501, 5539,
		10361, 13264, 13779, 13028, 10339, 5410, 468, -4153, -8712, -11497, -12012, -11225, -8786, -4504, -287,
		3572, 7364, 9296, 9289, 8510, 6085, 2450, -762, -3675, -6035, -6727, -6034, -4482, -1710, 1344,
		3720, 5728, 6713, 5729, 3838, 1438, -2049, -5244, -7124, -8156, -7946, -5769, -2507, 1133, 5283,
		8662, 10747, 11457, 10248, 7288, 3202, -1423, -6340, -10197, -12445, -13180, -11779, -8448, -3883, 1156,
		6345, 10489, 12927, 13794, 12391, 9199, 4981, 62, -4986, -8805, -10983, -11937, -10869, -7796, -4065,
		-81, 4185, 7397, 8949, 9255, 8052, 5503, 2240, -1054, -3894, -5748, -6410, -5754, -3784, -1220,
		1506, 4132, 5853, 6186, 5434, 3637, 613, -2490, -5079, -7334, -8230, -7292, -5261, -2246, 1840,
		5848, 8840, 10842, 11467, 10008, 6816, 2790, -1915, -6743, -10514, -12571, -13018, -11516, -7993, -3370,
		1706, 6704, 10737, 13100, 13636, 12171, 8912, 4630, -421, -5231, -8878, -11286, -11988, -10523, -7632,
		-3964, 535, 4680, 7490, 9188, 9485, 7820, 5051, 2047, -1435, -4460, -5964, -6485, -5865, -3710,
		-1018, 1683, 4318, 5954, 6376, 5656, 3567, 780, -2387, -5436, -7455, -8247, -7747, -5464, -2055,
		1723, 5818, 9232, 11069, 11338, 10108, 6942, 2404, -2137, -6695, -10742, -12719, -12778, -11478, -8023,
		-3108, 1803, 6725, 10852, 13197, 13548, 12029, 8879, 4316, -717, -5294, -9033, -11366, -11654, -10202,
		-7471, -3467, 813, 4486, 7381, 9036, 8899, 7336, 4969, 1718, -1612, -4132, -5749, -6300, -5365,
		-3324, -824, 1979, 4489, 5872, 6175, 5317, 3097, 119, -2870, -5635, -7697, -8150, -7175, -5083,
		-1627, 2431, 6140, 9097, 11066, 11166, 9351, 6395, 2201, -2727, -7108, -10494, -12657, -12734, -10761,
		-7456, -2842, 2452, 7089, 10750, 13083, 13204, 11392, 8133, 3717, -1228, -5722, -9071, -11057, -11319,
		-9645, -6715, -2886, 1202, 4813, 7527, 8738, 8480, 6917, 4249, 1025, -2012, -4405, -5929, -6022,
		-4877, -2878, -171, 2587, 4761, 6056, 6170, 4914, 2619, -262, -3412, -6115, -7782, -8211, -7099,
		-4639, -1176, 2782, 6521, 9464, 11044, 11046, 9273, 5921, 1697, -2978, -7483, -10762, -12489, -12478,
		-10579, -6937, -2266, 2581, 7216, 10955, 12724, 12707, 11147, 7708, 3189, -1369, -5622, -9137, -10871,
		-10771, -9342, -6397, -2398, 1442, 4816, 7496, 8575, 8047, 6495, 3874, 609, -2317, -4508, -5886,
		-5906, -4538, -2480, 115, 2915, 5020, 6036, 6124, 4863, 2299, -574, -3570, -6405, -8005, -8060,
		-7081, -4601, -826, 3001, 6573, 9697, 11180, 10727, 9103, 5750, 1172, -3332, -7535, -10929, -12518,
		-12110, -10242, -6593, -1765, 2951, 7443, 11012, 12596, 12432, 10686, 7158, 2634, -1823, -5987, -9282,
		-10679, -10452, -8896, -5766, -1892, 1827, 5156, 7550, 8412, 7879, 6110, 3406, 370, -2573, -4736,
		-5764, -5712, -4442, -2141, 516, 2964, 5049, 6184, 5788, 4400, 2211, -878, -3992, -6219, -7740,
		-8072, -6615, -3906, -652, 3284, 7047, 9544, 10808, 10653, 8554, 4986, 812, -3737, -8036, -10903,
		-12220, -11949, -9587, -5852, -1328, 3530, 7943, 10973, 12475, 12313, 9986, 6553, 2281, -2513, -6427,
		-9266, -10736, -10316, -8310, -5203, -1388, 2375, 5601, 7605, 8221, 7608, 5598, 2819, -117, -2809,
		-4935, -5772, -5262, -4035, -1764, 1107, 3370, 5095, 6222, 5702, 3904, 1768, -1214, -4484, -6461,
		-7617, -7929, -6144, -3262, -116, 3850, 7407, 9613, 10687, 10278, 7971, 4446, 371, -4151, -8025,
		-10751, -12007, -11351, -9124, -5449, -821, 3759, 7939, 10958, 12357, 11833, 9663, 6332, 1789, -2618,
		-6241, -9132, -10388, -9721, -7945, -4978, -1180, 2387, 5339, 7337, 8088, 7367, 5317, 2831, -86,
		-3010, -4799, -5493, -5358, -3872, -1280, 1090, 3443, 5581, 6099, 5469, 4140, 1440, -1642, -4439,
		-6673, -7938, -7834, -6143, -3476, 40, 3972, 7438, 9831, 10926, 10348, 8107, 4478, 203, -4271,
		-8296, -11003, -11994, -11398, -9015, -5085, -650, 3951, 8102, 10934, 12021, 11629, 9357, 5719, 1620,
		-2739, -6558, -8933, -10038, -9661, -7388, -4419, -1069, 2740, 5547, 7054, 7870, 6993, 4843, 2416,
		-375, -3092, -4785, -5373, -5089, -3508, -1116, 1283, 3618, 5438, 5872, 5321, 3714, 1126, -1801,
		-4524, -6700, -7729, -7355, -5879, -2954, 555, 3964, 7492, 9826, 10355, 9992, 7758, 3926, -104,
		-4365, -8426, -10957, -11721, -11109, -8633, -4569, -109, 4307, 8360, 10988, 11831, 11103, 8867, 5196,
		884, -3137, -6683, -9206, -10005, -9075, -7204, -4168, -119, 3004, 5554, 7643, 7636, 6343, 4630,
		1679, -1377, -3358, -5128, -5763, -4492, -3033, -958, 2208, 4323, 5247, 6201, 5659, 2887, 790,
		-1877, -5445, -7167, -7568, -7728, -5954, -2202, 928, 4183, 8280, 10172, 10112, 10107, 7295, 3259,
		-602, -5073, -8677, -10850, -11739, -10520, -7937, -4460, 473, 4774, 8260, 10901, 11975, 10829, 8236,
		5103, 598, -3810, -6591, -8996, -10051, -8714, -6587, -3808, -148, 3382, 5659, 7050, 7687, 6385,
		4231, 1632, -1161, -3263, -5187, -5431, -4382, -3176, -803, 2217, 4084, 5423, 6172, 5124, 3085,
		826, -2323, -5126, -6868, -7959, -7428, -5372, -2501, 756, 5016, 7934, 9778, 10599, 9758, 7007,
		3239, -757, -5218, -8748, -11174, -11400, -10507, -8000, -3822, 685, 4708, 8394, 11229, 11723, 10213,
		8362, 4823, -82, -3585, -6502, -9323, -9543, -8366, -6639, -3165, 255, 3197, 5663, 7295, 7048,
		5823, 4144, 1203, -1434, -3307, -5067, -5095, -4208, -2216, -491, 2259, 4680, 5465, 5617, 5073,
		2873, 50, -2990, -4782, -6993, -7970, -5634, -3375, -284, 2156, 4374, 3445, 4398, -1236, 4927,
		20905, 25772, 26932, 23100, 16383, 5159, -5822, -17327, -25532, -28457, -27831, -22974, -12965, -970, 10581,
		21686, 28518, 30974, 29372, 22054, 10647, -1223, -13222, -24009, -29600, -30493, -27581, -19614, -8090, 4092,
		14863, 24402, 29529, 29352, 24598, 16408, 4980, -6893, -16830, -24203, -27468, -25559, -19294, -10871, 354,
		11078, 19370, 24545, 25714, 21741, 13807, 4709, -6095, -16249, -22312, -24710, -23448, -17201, -7737, 2564,
		12694, 21475, 25836, 25795, 21917, 13969, 3354, -8004, -17847, -25097, -28361, -26749, -20562, -11210, 331,
		12179, 22159, 28133, 30301, 27541, 19762, 9219, -2913, -14546, -23988, -29292, -29860, -25836, -17556, -6355,
		5397, 16592, 24566, 28795, 28549, 23002, 14461, 3374, -7578, -17851, -24419, -26305, -24866, -18569, -9271,
		1366, 11311, 19556, 24418, 24519, 20604, 13410, 3556, -6563, -15344, -21856, -23913, -21821, -16402, -7632,
		2974, 12460, 19921, 24767, 25156, 20299, 13161, 3530, -8113, -17280, -23979, -27275, -25924, -19552, -10351,
		197, 12555, 21577, 27234, 29686, 26180, 18395, 8338, -2928, -14955, -23468, -27578, -28891, -24648, -15905,
		-5778, 5394, 16226, 23901, 27101, 26951, 21761, 12929, 2836, -7985, -17030, -23104, -25023, -22925, -16649,
		-7892, 1786, 11787, 18775, 22477, 23242, 18760, 11192, 2721, -6878, -15926, -20925, -22136, -21079, -14962,
		-5327, 3062, 12428, 20954, 23543, 23128, 20074, 11972, 873, -7643, -16706, -24990, -25742, -23426, -19350,
		-9368, 2524, 11609, 20595, 27532, 27598, 23951, 18368, 7242, -4445, -13682, -22981, -27844, -26836, -23115,
		-15984, -4060, 6532, 15432, 23871, 27119, 25155, 20480, 12527, 1211, -8422, -16957, -23381, -24612, -21501,
		-16455, -6888, 3524, 11615, 19261, 23145, 22306, 17697, 10793, 1466, -8423, -16069, -20994, -22735, -19230,
		-14133, -4292, 5159, 12854, 21160, 23379, 22448, 18177, 10776, 167, -9676, -16804, -24070, -26108, -21797,
		-17344, -8235, 3569, 13440, 20818, 25824, 28095, 21748, 15496, 6269, -5604, -15215, -22736, -25130, -26457,
		-20924, -12557, -3662, 7117, 16105, 22516, 24925, 23617, 18515, 10584, 539, -8682, -16421, -21848, -23194,
		-19815, -14210, -6204, 3756, 12112, 17392, 21459, 21450, 15167, 10064, 1347, -8851, -14478, -19004, -21465,
		-18632, -10945, -5712, 3443, 14725, 17647, 21185, 23069, 16525, 8694, 1609, -7977, -18334, -21463, -22658,
		-22976, -15100, -6266, 2077, 12293, 20661, 23640, 24901, 21868, 13654, 5455, -4761, -14442, -21063, -24281,
		-24450, -19660, -11620, -3224, 7463, 15657, 21021, 24482, 22094, 16491, 9645, 385, -10050, -16236, -19698,
		-22586, -19235, -10807, -5156, 3130, 13939, 17807, 19062, 19819, 15667, 6419, -698, -7372, -16144, -19571,
		-18698, -17034, -11013, -2431, 5798, 13739, 19175, 21181, 20555, 15811, 6965, -759, -9278, -18824, -22335,
		-21964, -21187, -14562, -3729, 4328, 12418, 22401, 24800, 22386, 21771, 13281, 1554, -5673, -14469, -23775,
		-24414, -21825, -20316, -10505, 435, 7758, 16416, 23198, 23907, 21015, 16111, 8259, -2051, -10998, -17076,
		-21188, -21743, -18350, -10378, -2496, 4665, 14195, 19860, 18965, 18461, 15679, 5476, -3411, -7740, -16089,
		-21606, -18015, -14878, -11494, -1433, 8747, 13455, 18411, 23224, 19469, 12473, 7856, -1701, -12931, -17355,
		-20444, -23674, -18730, -10618, -4593, 5049, 15566, 19518, 22330, 23368, 18152, 10180, 2547, -6685, -15725,
		-20774, -22655, -21092, -16843, -8658, 946, 8499, 15288, 21614, 21584, 17774, 14431, 6843, -3956, -9897,
		-14350, -20509, -19245, -13590, -10718, -3167, 7493, 11556, 15580, 19871, 16470, 10747, 6854, -2013, -10326,
		-13650, -17419, -18424, -13607, -7730, -1879, 7075, 13999, 16920, 19286, 17935, 12059, 5712, -1971, -10788,
		-16277, -19715, -20647, -16810, -10830, -3534, 5715, 13489, 18243, 22127, 21028, 16074, 10484, 1746, -7919,
		-14000, -19142, -22455, -19226, -14155, -8883, 1090, 10099, 14097, 19505, 21778, 16593, 11602, 6835, -3391,
		-11417, -13862, -18252, -19357, -12945, -7847, -2705, 7222, 13276, 14914, 17945, 16479, 9501, 4343, -1914,
		-10543, -14842, -16165, -16919, -13013, -6316, -74, 7311, 14237, 17298, 18106, 17356, 11118, 3780, -2359,
		-10972, -17434, -18750, -18980, -17075, -9487, -1418, 5331, 13859, 19563, 20501, 20119, 16460, 8377, 509,
		-6828, -15200, -20011, -20137, -19153, -14648, -6235, 1496, 8981, 16049, 19320, 19582, 17776, 11552, 3729,
		-2561, -10480, -16920, -17426, -16879, -15139, -7584, 400, 5545, 12710, 17680, 16673, 15112, 11373, 3215,
		-3836, -9081, -15178, -17891, -15417, -12703, -7673, 942, 8009, 13113, 17473, 18643, 15894, 11061, 4099,
		-3720, -10551, -16650, -19648, -18340, -15523, -9766, -1039, 6677, 13084, 18700, 20683, 18467, 15016, 8247,
		-835, -7709, -14074, -19680, -19978, -16889, -13466, -6386, 2932, 9497, 14659, 19133, 19045, 15235, 10437,
		3482, -4416, -10622, -15052, -17305, -16076, -12225, -6678, 102, 7173, 12565, 15179, 16153, 14136, 9054,
		2538, -3639, -9677, -14974, -15970, -14594, -11724, -5418, 1852, 7890, 13457, 17037, 16749, 14361, 10089,
		2506, -4836, -10389, -15946, -18960, -17007, -13639, -8894, -313, 7503, 12831, 18176, 20240, 17476, 13384,
		7649, -1275, -8910, -13714, -18595, -19908, -16105, -11391, -5851, 3107, 10568, 14158, 18055, 18814, 14208,
		9188, 3684, -4859, -11252, -14238, -16725, -16080, -11088, -5520, 180, 7726, 12785, 14870, 15872, 13294,
		8012, 2287, -4329, -10329, -13898, -15669, -14551, -10148, -4936, 1512, 8902, 13429, 15830, 17041, 14194,
		8016, 2735, -4149, -12255, -15541, -16855, -17822, -13345, -5907, -636, 6816, 14726, 17493, 17835, 17838,
		12924, 4590, -971, -7991, -15548, -17540, -17321, -16283, -10793, -3195, 3204, 9412, 15505, 17354, 16412,
		14097, 8324, 1534, -4916, -10653, -14614, -15696, -14222, -10607, -4556, 1636, 7334, 12536, 14834, 14137,
		12058, 7630, 831, -4971, -9415, -14024, -15195, -12404, -9396, -4396, 3229, 8836, 12307, 15917, 15920,
		11971, 7679, 2095, -5748, -11345, -14584, -17043, -15807, -11511, -6057, 693, 7815, 13187, 16848, 17844,
		15368, 11337, 5107, -2627, -8540, -13494, -17260, -16820, -13696, -9824, -3252, 4338, 9707, 13591, 16734,
		15641, 11703, 7676, 1265, -5482, -10437, -13306, -14811, -13416, -8816, -3669, 1632, 7812, 12079, 13372,
		13334, 11079, 6195, 82, -4659, -9595, -13634, -13346, -11566, -8899, -3045, 3572, 8051, 12205, 15465,
		14335, 10892, 7269, 1010, -6268, -10726, -13885, -16294, -14590, -9799, -5230, 851, 8402, 12876, 15099,
		16699, 14646, 9239, 3918, -1890, -9102, -13580, -15054, -15769, -13223, -7701, -2053, 3903, 9803, 13604,
		14971, 14052, 11072, 6149, 80, -5427, -9862, -12883, -13612, -11472, -7806, -3309, 2555, 7821, 10758,
		12707, 12728, 9242, 4952, 477, -5377, -9873, -11627, -12560, -11226, -6684, -1994, 2872, 8542, 12075,
		13141, 13198, 10485, 5251, 284, -5163, -10819, -13369, -14045, -13536, -9371, -3772, 1288, 7373, 12571,
		14394, 14815, 13527, 8703, 2983, -2107, -8185, -12747, -14036, -14271, -12099, -7080, -1833, 3646, 9193,
		12562, 13690, 13378, 10148, 5334, 497, -4995, -9659, -11678, -12320, -11294, -7081, -2397, 2021, 7292,
		10820, 11543, 11400, 9243, 4410, -254, -4604, -9218, -11599, -11444, -10242, -6783, -1559, 3255, 7807,
		11699, 12980, 12157, 9865, 5207, -393, -5349, -9924, -13299, -13532, -11944, -9096, -3528, 2368, 7107,
		11589, 14492, 14076, 11839, 8482, 2848, -3358, -7912, -11701, -14330, -13525, -10461, -6829, -1451, 4828,
		9001, 11848, 13699, 12440, 8838, 4739, -143, -5697, -9567, -11287, -11808, -10339, -6197, -1623, 2684,
		7411, 10592, 11337, 10489, 8227, 3965, -1168, -5280, -8793, -11383, -11124, -8968, -5871, -1273, 3996,
		8140, 10901, 12442, 11596, 8419, 4278, -587, -5881, -10012, -12196, -12839, -11350, -7622, -2730, 2441,
		7397, 11449, 13373, 13017, 11004, 7293, 1754, -3441, -7684, -11683, -13183, -11962, -9808, -6022, -232,
		4632, 8219, 11812, 12858, 10715, 8368, 4543, -1287, -5577, -8549, -11199, -11281, -8761, -5815, -1604,
		3483, 7109, 9668, 11119, 9866, 7099, 3692, -1084, -5657, -8497, -10480, -10763, -8478, -5059, -877,
		3997, 8120, 10545, 11841, 10786, 7778, 3809, -1014, -5874, -9693, -11666, -12280, -10458, -6789, -2374,
		2813, 7632, 10962, 12627, 12584, 10174, 6030, 1375, -3616, -8277, -11181, -12045, -11507, -8902, -4420,
		272, 4733, 8765, 11248, 11491, 10137, 7188, 2969, -1530, -5850, -8830, -10215, -10089, -8074, -4387,
		-290, 3548, 7363, 9620, 9864, 8875, 6296, 2364, -1925, -5443, -8525, -10057, -9332, -7437, -4232,
		178, 4551, 7764, 10195, 11052, 9588, 6597, 2894, -1538, -6166, -9270, -10817, -11179, -9307, -5615,
		-1462, 3119, 7626, 10516, 11690, 11468, 9008, 4971, 778, -3889, -8231, -10418, -11227, -10619, -7644,
		-3540, 621, 4945, 8615, 10409, 10582, 9399, 6266, 2230, -1739, -5737, -8613, -9590, -9156, -7487,
		-3935, 145, 3596, 6917, 9217, 9345, 7940, 5570, 2026, -2095, -5636, -7892, -9173, -8961, -6602,
		-3378, 185, 4331, 7633, 9283, 9934, 8845, 5882, 2170, -1649, -5677, -8958, -10048, -9874, -8588,
		-5087, -668, 3047, 6813, 9979, 10733, 9908, 8117, 4520, 107, -3804, -7272, -9721, -10224, -9163,
		-6907, -3154, 965, 4521, 7703, 9557, 9547, 8105, 5507, 1932, -1949, -5213, -7650, -8747, -8142,
		-6451, -3412, 385, 3560, 6412, 8286, 8341, 7047, 4713, 1449, -2139, -5253, -7450, -8377, -7733,
		-5952, -2893, 790, 4074, 6928, 8838, 9051, 7697, 5325, 1864, -2055, -5474, -8066, -9507, -9219,
		-7337, -4526, -726, 3481, 6614, 8855, 10113, 9272, 6869, 3905, 109, -3982, -6997, -8774, -9458,
		-8476, -5821, -2600, 925, 4683, 7267, 8573, 8826, 7337, 4613, 1448, -1924, -5136, -7180, -7847,
		-7438, -5576, -2733, 553, 3575, 6054, 7585, 7530, 6310, 4097, 980, -2285, -4922, -6911, -7752,
		-6964, -5058, -2543, 989, 4211, 6483, 8135, 8339, 6854, 4482, 1443, -2173, -5378, -7461, -8606,
		-8416, -6479, -3677, -365, 3314, 6295, 8324, 9046, 8249, 6310, 3210, -433, -3728, -6460, -8349,
		-8504, -7272, -5299, -2177, 1503, 4328, 6610, 8187, 7881, 6276, 4065, 1117, -2346, -4884, -6444,
		-7372, -6758, -4657, -2185, 554, 3672, 5897, 6712, 6880, 5822, 3290, 501, -2120, -4864, -6643,
		-6921, -6256, -4678, -1789, 1257, 3884, 6287, 7609, 7350, 6187, 4018, 716, -2281, -5065, -7262,
		-7962, -7413, -5882, -3152, 290, 3219, 6002, 7997, 8222, 7383, 5628, 2560, -807, -3678, -6213,
		-7845, -7804, -6666, -4693, -1615, 1582, 4298, 6507, 7552, 7226, 5859, 3424, 550, -2266, -4838,
		7776, 8095, 6110, 3948, 1580, -2082, -4826, -6098, -7159, -6878, -4740, -2355, 73, 3299, 5442,
		6338, 6745, 5659, 3396, 976, -1841, -4371, -5890, -6628, -6151, -4289, -2080, 635, 3752, 5655,
		6661, 7164, 5964, 3363, 1150, -1743, -5128, -6506, -7042, -7448, -5568, -2464, -266, 2839, 6125,
		7273, 7405, 7404, 5357, 1902, -401, -3305, -6427, -7239, -7150, -6707, -4449, -1312, 1316, 3867,
		6363, 7118, 6723, 5773, 3404, 626, -2006, -4346, -5959, -6390, -5789, -4312, -1849, 662, 2975,
		5078, 6003, 5718, 4872, 3079, 336, -2005, -3787, -5644, -6104, -4982, -3768, -1762, 1294, 3532,
		4921, 6355, 6352, 4768, 3061, 831, -2282, -4506, -5785, -6758, -6253, -4560, -2388, 269, 3086,
		5194, 6637, 7016, 6039, 4453, 1999, -1025, -3345, -5276, -6745, -6563, -5342, -3826, -1264, 1682,
		3776, 5268, 6490, 6055, 4528, 2966, 488, -2114, -4021, -5122, -5694, -5155, -3382, -1407, 626,
		2986, 4620, 5102, 5086, 4222, 2355, 35, -1774, -3634, -5173, -5049, -4375, -3364, -1145, 1342,
		3035, 4591, 5810, 5383, 4081, 2726, 375, -2339, -4009, -5175, -6071, -5431, -3637, -1948, 320,
		3109, 4768, 5579, 6168, 5400, 3404, 1443, -696, -3341, -4982, -5512, -5772, -4830, -2815, -745,
		1418, 3569, 4942, 5434, 5093, 4011, 2221, 33, -1962, -3551, -4640, -4892, -4120, -2800, -1186,
		916, 2793, 3842, 4528, 4533, 3288, 1755, 176, -1913, -3488, -4112, -4434, -3956, -2355, -701,
		1009, 2996, 4230, 4599, 4612, 3660, 1829, 99, -1795, -3756, -4636, -4864, -4681, -3238, -1300,
		442, 2539, 4316, 4943, 5072, 4633, 2972, 1019, -718, -2788, -4330, -4767, -4837, -4095, -2395,
		-616, 1226, 3097, 4222, 4597, 4484, 3399, 1780, 170, -1670, -3210, -3889, -4082, -3750, -2340,
		-793, 665, 2405, 3560, 3793, 3740, 3030, 1440, -80, -1504, -3000, -3776, -3711, -3326, -2191,
		-507, 1053, 2512, 3770, 4164, 3904, 3159, 1664, -124, -1706, -3159, -4226, -4295, -3783, -2877,
		-1114, 746, 2238, 3641, 4548, 4411, 3700, 2652, 883, -1041, -2460, -3628, -4441, -4180, -3228,
		-2107, -441, 1476, 2765, 3623, 4187, 3796, 2688, 1445, -49, -1720, -2899, -3401, -3565, -3103,
		-1868, -480, 799, 2215, 3158, 3373, 3118, 2438, 1176, -348, -1556, -2588, -3346, -3261, -2627,
		-1716, -370, 1163, 2366, 3161, 3602, 3349, 2431, 1227, -164, -1692, -2857, -3491, -3654, -3232,
		-2164, -771, 687, 2089, 3226, 3757, 3653, 3081, 2035, 494, -964, -2128, -3241, -3645, -3300,
		-2703, -1653, -65, 1268, 2244, 3220, 3493, 2911, 2263, 1228, -345, -1505, -2290, -3001, -3015,
		-2334, -1549, -426, 925, 1875, 2551, 2924, 2588, 1863, 959, -277, -1476, -2200, -2715, -2778,
		-2183, -1301, -225, 1022, 2073, 2682, 3008, 2730, 1967, 960, -256, -1472, -2428, -2907, -3061,
		-2593, -1685, -583, 690, 1877, 2689, 3085, 3070, 2475, 1461, 336, -874, -1994, -2681, -2886,
		-2744, -2122, -1047, 60, 1123, 2058, 2648, 2685, 2370, 1673, 690, -355, -1349, -2036, -2342,
		-2309, -1845, -995, -69, 806, 1657, 2166, 2209, 1985, 1402, 525, -426, -1201, -1878, -2205,
		-2042, -1621, -920, 38, 984, 1669, 2190, 2362, 2045, 1400, 615, -328, -1292, -1948, -2257,
		-2329, -1932, -1160, -303, 642, 1561, 2144, 2375, 2325, 1815, 1002, 154, -777, -1634, -2066,
		-2216, -2090, -1497, -692, 123, 955, 1666, 1999, 2028, 1791, 1192, 423, -330, -1073, -1617,
		-1782, -1700, -1384, -721, 23, 657, 1258, 1667, 1684, 1425, 994, 361, -371, -995, -1383,
		-1604, -1559, -1143, -585, 36, 737, 1300, 1567, 1679, 1476, 990, 353, -268, -936, -1467,
		-1633, -1604, -1380, -820, -105, 483, 1078, 1566, 1682, 1536, 1260, 692, 19, -581, -1099,
		-1465, -1530, -1365, -1021, -466, 142, 657, 1116, 1372, 1369, 1146, 783, 268, -270, -724,
		-1054, -1199, -1107, -872, -460, 54, 467, 851, 1078, 1090, 905, 606, 186, -274, -655,
		-934, -1031, -955, -722, -353, 97, 484, 822, 1034, 1060, 885, 615, 208, -229, -614,
		-896, -1045, -1009, -791, -488, -75, 365, 692, 916, 1039, 941, 694, 387, 11, -387
	};

	short g_sWaveLengths[] =
	{
		20, 21, 20, 20, 20, 21, 20, 20, 21, 20,
		20, 21, 20, 23, 19, 15, 14, 15, 17, 16,
		13, 15, 17, 16, 13, 15, 17, 15, 13, 16,
		17, 15, 13, 16, 16, 16, 13, 16, 16, 16,
		14, 15, 17, 15, 13, 16, 16, 16, 13, 16,
		16, 15, 14, 16, 16, 16, 13, 16, 16, 15,
		14, 15, 17, 15, 14, 15, 17, 15, 14, 15,
		17, 15, 13, 16, 17, 15, 14, 15, 17, 15,
		13, 16, 16, 16, 13, 16, 16, 15, 14
	};
	CTrace::CTrace()
	{
		m_iTracePatternLength = sizeof(g_sTraceArray) / sizeof(short);
		m_iSentLength = 0;
		MediaLog(LOG_DEBUG, "[CTrace] m_iTracePatternLength = %d\n", m_iTracePatternLength);
		memset(m_sTraceDetectionBuffer, 0, 2 * MAX_AUDIO_FRAME_SAMPLE_SIZE * sizeof(short));
		memset(m_sSum, 0, 2 * MAX_AUDIO_FRAME_SAMPLE_SIZE * sizeof(short));
		memset(m_sMyWL_I, 0, 2 * MAX_AUDIO_FRAME_SAMPLE_SIZE * sizeof(short));
		m_iTaceWaveCount = sizeof(g_sWaveLengths) / sizeof(short);
		m_sSum[0] = g_sWaveLengths[0];
		for (int i = 1; i < m_iTaceWaveCount; i++)
		{
			m_sSum[i] = m_sSum[i - 1] + g_sWaveLengths[i];
		}
		
	}

	CTrace::~CTrace()
	{
		
	}

	void CTrace::Reset()
	{
		MediaLog(LOG_DEBUG, "[CTrace] Reset Called\n");
		m_iSentLength = 0;
		memset(m_sTraceDetectionBuffer, 0, 2 * MAX_AUDIO_FRAME_SAMPLE_SIZE * sizeof(short));
		memset(m_sMyWL, 0, 2 * MAX_AUDIO_FRAME_SAMPLE_SIZE * sizeof(short));
	}

	int CTrace::GenerateTrace(short *sBuffer, int iTraceLength)
	{
#ifdef USE_AECM
		MediaLog(LOG_DEBUG, "[CTrace] iTraceLength = %d, m_iTracePatternLength = %d, m_iSentLength = %d\n", iTraceLength, m_iTracePatternLength, m_iSentLength);
		if (m_iSentLength + iTraceLength <= m_iTracePatternLength)
		{
			memcpy(sBuffer, g_sTraceArray + m_iSentLength, iTraceLength * sizeof(short));
			m_iSentLength += iTraceLength;
			return 1;
		}
		else if (m_iSentLength < m_iTracePatternLength)
		{
			memset(sBuffer, 0, iTraceLength * sizeof(short));
			int iTraceSEndFraction = m_iTracePatternLength - m_iSentLength;
			memcpy(sBuffer, g_sTraceArray + m_iSentLength, iTraceSEndFraction * sizeof(short));
			m_iSentLength = m_iTracePatternLength;
			return 0;
		}
		return 0;
#endif
        return 0;
       
	}

	void CTrace::CopyFrame(short *sBuffer)
	{
#ifdef USE_AECM
		memcpy(m_sTraceDetectionBuffer, m_sTraceDetectionBuffer + MAX_AUDIO_FRAME_SAMPLE_SIZE, MAX_AUDIO_FRAME_SAMPLE_SIZE * sizeof(short));
		memcpy(m_sTraceDetectionBuffer + MAX_AUDIO_FRAME_SAMPLE_SIZE, sBuffer, MAX_AUDIO_FRAME_SAMPLE_SIZE * sizeof(short));
#endif
	}

	void CTrace::CalCulateWaves(int &iWLCount)
	{
		int iTV = 0;
		iWLCount = 0;
		string str = "m_sMyWL";
		for (int i = 0; i < MAX_AUDIO_FRAME_SAMPLE_SIZE * 2 - 1; i++)
		{
			if ((m_sTraceDetectionBuffer[i] <= 0 && m_sTraceDetectionBuffer[i + 1] > 0) || (m_sTraceDetectionBuffer[i] < 0 && m_sTraceDetectionBuffer[i + 1] >= 0)) //transition found
			{
				int iWaveLength = i - iTV;
				m_sMyWL[iWLCount] = iWaveLength;
				m_sMyWL_I[iWLCount] = i;

				str += Tools::IntegertoStringConvert(i);
				str += " : ";
				str += Tools::IntegertoStringConvert(m_sMyWL[i]);
				str += " , ";
				if (i % 12 == 0)
				{
					str += "\n";
				}

				iWLCount++;
				iTV = i;
			}
		}
		//MediaLog(LOG_DEBUG, "[CTrace] iWLCount = %d, %s", iWLCount, str.c_str());
	}

	short CTrace::Diff(short x, short y)
	{
		return abs(x - y);
	}

	int CTrace::DetectTrace(int iStartingWave, int iDiffThreshold, int iMatchCountThreshold, int iWLCount, int &iTraceInFrame)
	{
		iTraceInFrame = 0;
		MediaLog(LOG_DEBUG, "[CTrace] iWLCount = %d", iWLCount);

		for (int i = 0; i < iWLCount; i++)
		{
			int k = 0;
			for (k = 0; k < iMatchCountThreshold; k++)
			{
				if (Diff(m_sMyWL[i + k], g_sWaveLengths[k + iStartingWave]) > iDiffThreshold)
				{
					break;
				}
			}
			if (k == iMatchCountThreshold)
			{

				int iTraceStartPos = m_sMyWL_I[i] - m_sSum[iMatchCountThreshold + iStartingWave - 1];
				MediaLog(LOG_DEBUG, "[CTrace] Found, i = %d,  my position = %d, trace's position = %d", i, m_sMyWL_I[i], iTraceStartPos);

				if (iTraceStartPos < MAX_AUDIO_FRAME_SAMPLE_SIZE)
				{
					iTraceInFrame = -1;
				}
				else
				{
					iTraceStartPos -= MAX_AUDIO_FRAME_SAMPLE_SIZE;
				}
				return iTraceStartPos;
			}

		}
		return -1;
	}

	int CTrace::DetectTrace(short *sBuffer, int &iTraceInFrame)
	{
#ifdef USE_AECM

		MediaLog(LOG_DEBUG, "[CTrace] DetectTrace Called\n");
		
		CopyFrame(sBuffer);

		int iWLCount;
		CalCulateWaves(iWLCount);
		

		int iStartingWave = 0;
		int iDiffThreshold = 2;
		int iMatchCountThreshold = 10;
		
		return DetectTrace(iStartingWave, iDiffThreshold, iMatchCountThreshold, iWLCount, iTraceInFrame);
	

#endif
        return 0;
	}

	int CTrace::DetectTrace3Times(short *sBuffer, int &iTraceInFrame, bool &b30VerifiedTrace)
	{
#ifdef USE_AECM
		MediaLog(LOG_DEBUG, "[CTrace] DetectTrace Called\n");

		CopyFrame(sBuffer);

		int iWLCount;
		CalCulateWaves(iWLCount);

		int iStartingWave = 0;
		int iDiffThreshold = 2;
		int iMatchCountThreshold = 10;
		int iTraceInFrame_0_2_10;

		int iDelay_0_2_10 = DetectTrace(iStartingWave, iDiffThreshold, iMatchCountThreshold, iWLCount, iTraceInFrame_0_2_10);
		int iActualDelay_0_2_10 = iDelay_0_2_10 > -1 ? (iDelay_0_2_10 + (iTraceInFrame_0_2_10 + 1) * MAX_AUDIO_FRAME_SAMPLE_SIZE) : INF_DELAY;

		iStartingWave = 15;
		iDiffThreshold = 2;
		iMatchCountThreshold = 10;
		int iTraceInFrame_15_2_10;

		int iDelay_15_2_10 = DetectTrace(iStartingWave, iDiffThreshold, iMatchCountThreshold, iWLCount, iTraceInFrame_15_2_10);
		int iActualDelay_15_2_10 = iDelay_15_2_10 > -1 ? (iDelay_15_2_10 + (iTraceInFrame_15_2_10 + 1) * MAX_AUDIO_FRAME_SAMPLE_SIZE) : INF_DELAY;

		MediaLog(LOG_DEBUG, "[CTrace] iActualDelay_0_2_10 = %d iActualDelay_15_2_10 = %d\n", iActualDelay_0_2_10, iActualDelay_15_2_10);

		if (iDelay_15_2_10 == -1)
		{
			b30VerifiedTrace = false;
			iTraceInFrame = iTraceInFrame_0_2_10;
			return iDelay_0_2_10;
		}

		iStartingWave = 15;
		iDiffThreshold = 2;
		iMatchCountThreshold = 30;
		int iTraceInFrame_15_2_30;

		int iDelay_15_2_30 = DetectTrace(iStartingWave, iDiffThreshold, iMatchCountThreshold, iWLCount, iTraceInFrame_15_2_30);

		b30VerifiedTrace = iDelay_15_2_30 < 0 ? false : true;
		int iActualDelay = min(iActualDelay_0_2_10, iTraceInFrame_15_2_10);
		int iDelay = 0;
		if (iActualDelay < MAX_AUDIO_FRAME_SAMPLE_SIZE)
		{
			iTraceInFrame = -1;
			iDelay = iActualDelay;
		}
		else if (iActualDelay < INF_DELAY)
		{
			iTraceInFrame = 0;
			iDelay = iActualDelay - MAX_AUDIO_FRAME_SAMPLE_SIZE;
		}
		else
		{
			iTraceInFrame = 0;
			iDelay = -1;
		}

		MediaLog(LOG_DEBUG, "[CTrace] iDelay_15_2_30\n", iDelay_15_2_30);
		return iDelay;
		
#endif
	}

} //namespace MediaSDK
